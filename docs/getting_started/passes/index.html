<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting_started/passes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Passes | Redex</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fbredex.com/docs/getting_started/passes/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Passes | Redex"><meta data-rh="true" name="description" content="ReDex has a large set of optimization passes that is constantly evolving."><meta data-rh="true" property="og:description" content="ReDex has a large set of optimization passes that is constantly evolving."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://fbredex.com/docs/getting_started/passes/"><link data-rh="true" rel="alternate" href="https://fbredex.com/docs/getting_started/passes/" hreflang="en"><link data-rh="true" rel="alternate" href="https://fbredex.com/docs/getting_started/passes/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redex RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redex Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2e7ab140.css">
<link rel="preload" href="/assets/js/runtime~main.4c739ec2.js" as="script">
<link rel="preload" href="/assets/js/main.7839a039.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#20232a;color:#fff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Support Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.png" alt="Redex Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/favicon.png" alt="Redex Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Redex</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/getting_started/installation/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/redex" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/getting_started/installation/">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/installation/">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/configuring/">Configuring ReDex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/getting_started/passes/">Passes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/usage/">Usage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/examples/proguard/">Examples</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/technical_details/docker/">Technical Details</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/help/faq/">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Passes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Passes</h1></header><p>ReDex has a large set of optimization passes that is constantly evolving.
Information in this document may be outdated, inspect the code if necessary.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessmarkingpass">AccessMarkingPass<a class="hash-link" href="#accessmarkingpass" title="Direct link to heading">â€‹</a></h2><p>Final objects and private methods can be optimized more aggressively than
virtual objects and public methods.</p><p>Devirtualization can result in <!-- -->[NullPointerException]<!-- -->. Two Redex passes perform
devirtualization of methods: <code>AccessMarkingPass</code> devirtualizes methods not using
<code>this</code>. <a href="#methodinlinepass"><code>MethodInlinePass</code></a> inlines monomorphic virtual
calls.</p><p>The <a href="/docs/getting_started/configuring/">app&#x27;s config file</a> can override <code>AccessMarkingPass</code> behavior.
<code>finalize_methods</code>, <code>finalize_unwritten_fields</code>, <code>finalize_classes</code>, and
<code>privatize_methods</code> default to <code>true</code>. <code>finalize_written_fields</code> defaults to <code>false</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;AccessMarkingPass&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;finalize_written_fields&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pass ordering dependencies:</p><ul><li><code>AccessMarkingPass</code> should be run early as it enables other optimizations.</li></ul><p>See related:</p><ul><li><a href="#methoddevirtualizationpass"><code>MethodDevirtualizationPass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="annokillpass">AnnoKillPass<a class="hash-link" href="#annokillpass" title="Direct link to heading">â€‹</a></h2><p><code>AnnoKillPass</code> originally removed only annotations with no static references in
the code--&quot;build-visible&quot; annotations. It was expanded to remove annotations
referenced statically, but not used at runtime--&quot;runtime-visible&quot; annotations.</p><p><code>AnnoKillPass</code> reads configuration options from the <a href="/docs/getting_started/configuring/">app&#x27;s config
file</a> specifying annotations to be kept or killed. An additional
option specifies whether Redex should attempt to match signatures for removal.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;AnnoKillPass&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;keep_annos&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Landroid/view/ViewDebug$CapturedViewProperty;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Landroid/view/ViewDebug$ExportedProperty;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;kill_bad_signatures&quot; : true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;kill_annos&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Lcom/google/inject/BindingAnnotation;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See related:</p><ul><li><a href="#systemannokillpass"><code>SystemAnnoKillPass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bridgesynthinlinepass">BridgeSynthInlinePass<a class="hash-link" href="#bridgesynthinlinepass" title="Direct link to heading">â€‹</a></h2><p>As the name suggests BridgeSynthInlinePass removes bridge and synthetic methods by inlining them.</p><p>Bridge methods are created by the <code>javac</code> compiler as part of
type erasure for covariant generics.</p><p>Example of a bridge method in pseudo-bytecode:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">check-cast*   (for checking covariant arg types)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoke-{direct,virtual,static}  bridged-method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">move-result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>BridgeSynthInlinePass</code> inlines the target of the bridging, the &quot;bridgee&quot;, into the bridge
method by replacing the <code>invoke-</code> and adjusting check-casts as needed. The
bridgee can then be deleted.</p><p><code>BridgeSynthInlinePass</code> also removes synthetic methods introduced by <code>javac</code>. <code>javac</code> generates
these methods because while Java allows inner classes or nested classes, DEX
bytecode does not. Inner classes, like <code>class Delta</code> in this example, are
promoted to top-level classes in the DEX bytecode.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Gamma {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Gamma(int v) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x = v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int x;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class Delta {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public int doublex() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return 2*x;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>javac</code> generates a synthetic method that allows access to fields, methods, and
constructors in the promoted class. <code>SynthPass</code> effectively removes these synthetic methods,
replacing them with a direct access to the field or call to the method or
constructor.</p><p>The general limitations and the cost model of the inliner applies. As a result, some bridge and synthetic method inlining opportunities might not be acted upon, e.g. when it would result in API-level violations, or an overall size increase.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checkbreadcrumbspass">CheckBreadcrumbsPass<a class="hash-link" href="#checkbreadcrumbspass" title="Direct link to heading">â€‹</a></h2><p><code>CheckBreadcrumbsPass</code> validates Redex codegen against leftover references to
deleted types, methods, or fields.</p><ul><li>Verifies that there are no references to a deleted class definition remaining
in DEX files (essentially an <code>internal</code> class that is not in scope).</li><li>Verifies that the target of a field and method reference exists on the class
it is defined on.</li></ul><p>Redex will warn if it finds dangling references or illegal references to
entities.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="classmergingpass">ClassMergingPass<a class="hash-link" href="#classmergingpass" title="Direct link to heading">â€‹</a></h2><p><code>ClassMergingPass</code> shrinks the size of code generated by some frameworks. These
tools produce large amounts of Java code for each component. The code generated
for different component types often shares the same structure, differing only by
the type of the component.</p><p>Class Merging identifies pieces of generated code that have the same &quot;shape&quot;.
Erasing the types that differ allows the pieces of generated code to be merged.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constantpropagationpass">ConstantPropagationPass<a class="hash-link" href="#constantpropagationpass" title="Direct link to heading">â€‹</a></h2><p><code>ConstantPropagationPass</code> substitutes the values of constants into expressions
at compile time. Constant propagation can eliminate multiple expressions,
resulting in a constant load.</p><p><code>ConstantPropagationPass</code> does a whole program analysis to replace instructions
with single destination registers with constant loads. The analysis is run
iteratively until a fixed point or configurable limit is reached.</p><p><code>CostantPropagationPass</code> should be run before dead code elimination (DCE) passes
as it can create dead code.</p><p>See related:</p><ul><li><a href="#localdcepass"><code>LocalDCEPass</code></a></li><li><a href="#removeunreachablepass"><code>RemoveUnreachablePass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="copypropagationpass">CopyPropagationPass<a class="hash-link" href="#copypropagationpass" title="Direct link to heading">â€‹</a></h2><p><code>CopyPropagationPass</code> removes writes of duplicated values to registers in a
basic block. If value <code>A</code> and value <code>B</code> are aliases, then any moves between
these registers are unnecessary and can be eliminated. Duplicated source
registers can also be deduplicated.</p><p><code>CopyPropagationPass</code> can also remove duplicated instructions if the source and
the destination are aliased.</p><p>Example: <code>v0</code> and <code>v1</code> contain the same value and can be treated locally as
aliases:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const v0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const v1, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoke-static v0 foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoke-static v1 bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>can be transformed into</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const v0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoke-static v0 foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoke-static v0 bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>CopyPropagationPass</code> should be run before dead code elimination (DCE) passes as
it can create dead code.</p><p>See related:</p><ul><li><a href="#localdcepass"><code>LocalDCEPass</code></a></li><li><a href="#removeunreachablepass"><code>RemoveUnreachablePass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dedupblockspass">DedupBlocksPass<a class="hash-link" href="#dedupblockspass" title="Direct link to heading">â€‹</a></h2><p>Dedup blocks inside of a method. Duplicated blocks are those with the same code
and the same successor. Duplicated blocks can have different predecessors.</p><p><code>DedupBlocksPass</code> identifies one of the blocks as the canonical version, then
redirects all predecessors to the canonical block. The pass currenly only
identifies blocks with a single successor, but in the future may identify blocks
with multiple sucessors.</p><p>Stack traces for deduplicated blocks will always report the same line number,
but the predecessor line numbers will be correct.</p><p><code>DedupBlocksPass</code> should be run after <a href="#interdexpass"><code>InterDexPass</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delsuperpass">DelSuperPass<a class="hash-link" href="#delsuperpass" title="Direct link to heading">â€‹</a></h2><p>DelSuperPass eliminates subclass methods that invoke the superclass method and
trivially return.</p><p><code>DelSuperPass</code> only optimizes virtual methods with the following
characteristics:</p><ul><li>The subclass method must match the name and signature of the superclass method</li><li>The subclass method must only invoke the superclass method and either return
<code>void</code> or the result of the callee.</li></ul><p><code>DelSuperPass</code> also fixes up references to the removed subclass methods, making
them refer to the superclass method instead. Though <a href="https://source.android.com/devices/tech/dalvik/dalvik-bytecode" target="_blank" rel="noopener noreferrer">Dalvik&#x27;s
<code>invoke-virtual</code></a>
would automatically resolve to the correct superclass method, doing this reduces
the number of method references in the Dex file and saves on space.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="finalinlinepassv2">FinalInlinePassV2<a class="hash-link" href="#finalinlinepassv2" title="Direct link to heading">â€‹</a></h2><p><code>FinalInlinePassV2</code>, or an instance field&#x27;s value after <code>&lt;init&gt;</code>, and inlines
the value in dex code. Note that this pass is separate from the <code>MethodInline</code>
and <code>SwitchInline</code> passes.</p><p>The <code>DX</code> tool often introduces verbose bytecode sequences to initialize static
fields in classes it generates. The <code>encoded_value</code> equivalents are much more
compact. This pass determines the values of static fields after <code>&lt;clinit&gt;</code> and
eliminates the redundant writes to the static field.</p><p>This pass applies to both final and non-final static fields. For final statics
it also inlines reads of the static field where possible, replacing them with
constant operations outside of <code>&lt;clinit&gt;</code>.</p><p>For instance fields, the pass calculates the field&#x27;s value after <code>&lt;init&gt;</code> is
finished. It inlines reads of the instance field where possible.</p><p>Unlike a static field, if an instance field were changed outside of <code>&lt;init&gt;</code>, it
might have different values for different instances of the class. For classes
with multiple <code>&lt;init&gt;</code> the instance field values might differ based on the
constructor. This pass does not inline instance fields that are:</p><ol><li>Modified outside of their class <code>&lt;init&gt;</code>.</li><li>In a class that have more than one constructor.</li><li>Accessed by reflection or native code anywhere in code.</li><li>Accessed in another method that is called inside of the constructor.</li></ol><p>Note that this pass does not inline the <code>CharSequence</code> type for static or
instance fields because older Dalvik VMs cannot handle this class.</p><p>See related:</p><ul><li><a href="#methodinlinepass"><code>MethodInlinePass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="localdcepass">LocalDcePass<a class="hash-link" href="#localdcepass" title="Direct link to heading">â€‹</a></h2><p><code>LocalDcePass</code> removes dead instructions in a method. Code is considered to be
&quot;dead&#x27; if it has no side-effects and does not change its output registers. Code
in a <code>catch</code> block is considered live for the duration of the <code>try</code>, as any
instruction in the <code>try</code> block is assumed to be able to throw. Methods annotated
with <code>@DoNotOptimize</code> are not considered for dead code elimination.</p><p>Dead code elimination (DCE) differs from RemoveUnreachable (RMU) in two ways:
first, RMU works from global roots (at the scope of Class/Method/Field) whereas
DCE works at the function scope. Second, DCE removes code that does not change
state, for example, a store to a memory address that is not read in the scope of
the block, whereas RMU removes code that is unreachable regardless of its effect
on state.</p><p>See related:</p><ul><li><a href="#removeunreachablepass">RemoveUnreachablePass</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="methoddevirtualizationpass">MethodDevirtualizationPass<a class="hash-link" href="#methoddevirtualizationpass" title="Direct link to heading">â€‹</a></h2><p><code>MethodDevirtualizationPass</code> converts virtual methods with single
implementation to static dmethods.</p><p>The <a href="/docs/getting_started/configuring/">app&#x27;s config file</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;MethodDevirtualizationPass&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;staticize_vmethods_not_using_this&quot; : true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;staticize_dmethods_not_using_this&quot; : true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See related:</p><ul><li><a href="#accessmarkingpass"><code>AccessMarkingPass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="obfuscatepass">ObfuscatePass<a class="hash-link" href="#obfuscatepass" title="Direct link to heading">â€‹</a></h2><p><code>ObfuscatePass</code> pass obfuscates method and field names. <code>RenameClassesPassV2</code>
obfuscates class names.</p><p>See related:</p><ul><li><a href="#renameclassespassv2"><code>RenameClassesPassV2</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimizeenumspass">OptimizeEnumsPass<a class="hash-link" href="#optimizeenumspass" title="Direct link to heading">â€‹</a></h2><p><code>OptimizeEnumsPass</code> does two things to make use of <code>Enum</code> classes more
efficient. It optimizes the use of <code>Enum</code> values in <code>switch</code> tables and replaces
some uses of <code>Enum</code> values with <code>Integer</code> singletons.</p><p>The <code>javac</code> compiler creates <a href="https://source.android.com/devices/tech/dalvik/dalvik-bytecode" target="_blank" rel="noopener noreferrer">Dalvik packed
switch</a> tables
that contain a generated anonymous class. <code>OptimizeEnumPass</code> replaces these
packed <code>switch</code> statements with lookups based on the <code>Enum</code> ordinal itself. Note
that this optimization does not work with ProGuard obfuscation enabled. ProGuard
can rewrite <code>Enum</code> value names such that they no longer match the <code>Enum</code> class
name.</p><p><code>OptimizeEnumsPass</code> also replaces some uses of an <code>Enum</code> with a boxed <code>Integer</code>
singleton and keeps the runtime behavior unchanged at the same time.</p><p>The pass does not guarantee to erase all the enums, perf sensitive code should
never use enums. An <code>Enum</code> is not optimizable if it is:</p><ol><li>An abstract <code>Enum</code>.</li><li>Reflectively used.</li><li>Contains an instance field that is not a primitive.</li><li>Contains non-final instance fields.</li><li>Cast to any other types, like <code>java.lang.Object</code>, <code>java.lang.Enum</code>,
<code>java.io.Serializable</code>, <code>java.lang.Comparable</code></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="originalnamepass">OriginalNamePass<a class="hash-link" href="#originalnamepass" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;OriginalNamePass&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hierarchy_roots&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Ljava/lang/Runnable;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Redex renames classes for performance reasons. Renaming can result in different
class names in debug and release builds, which results in mismatches in logging.
Also, some system functions should not be renamed.</p><p>An alternative is to use <code>OriginalClassName.getSimpleName()</code> for logging.
<code>OriginalNamePass</code> is preferred as is does not significantly increase the APK
size.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="peepholepass">PeepholePass<a class="hash-link" href="#peepholepass" title="Direct link to heading">â€‹</a></h2><p>Replace small code patterns with a more efficient pattern. The optimization
matches known patterns for replacement. It essentially performs a string search
of the code for known inefficient sequences and replaces them with more
efficient code. <code>PeepholePass</code> will not replace patterns that span a basic block
boundary. <code>PeepholePass</code> can remove no-op function calls such as redundant moves
and appends of null strings.</p><p>Peephole pass should be run early.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rebindrefspass">ReBindRefsPass<a class="hash-link" href="#rebindrefspass" title="Direct link to heading">â€‹</a></h2><p>Rebind references to their most abstract type.</p><p>The number of methods in a DEX file is limited to 64K. Method definitions (defs)
and references (refs) both count against this limit. The class scope in an
inheritance situation can create needless method refs. Calls based on the
subclassed methods create unnecessary method refs for the subclass. This is
especially true when calls are made through the implicit <code>this</code>.</p><p>For example, you have a class specialized on <code>&lt;n&gt;</code> with a method that calls
<code>Object.equals(Object)</code>. All of these calls create a ref <code>X&lt;n&gt;.equals(Object)</code>,
each of them counting against the 64K limit. Rebinding them lower in the
hierarchy reduces the number of unique refs.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class X&lt;n&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void foo&lt;n&gt;(Object o)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (equals(o) {...}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>ReBindRefsPass</code> rebinds all <code>invoke-virtual</code> to the base def of the virtual
scope. For <code>invoke-interface</code>, it rebinds to the first interface method def. The
optimization is only done as long as there is no change in method visibility: we
walk down the hiearchy as long as the method is public. <code>ReBindRefsPass</code>
drastically reduces the number of methods defined in DEX files.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reducegotospass">ReduceGotosPass<a class="hash-link" href="#reducegotospass" title="Direct link to heading">â€‹</a></h2><p>Reduces gotos in two ways:</p><ol><li>When a conditional branch would fallthrough to a block that has multiple
sources, and the branch target only one has one, invert condition and swap
branch and goto target. This reduces the need for additional gotos and
maximizes the fallthrough efficiency.</li><li>It replaces gotos that eventually simply return by return instructions.
Return instructions tend to have a smaller encoding than goto instructions,
and tend to compress better due to less entropy (no offset).</li></ol><p>Example, inverting this conditional will eliminate a <code>goto</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(const v2 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(if-eqz v0 :true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(:back_jump_target)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(return v2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(:true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(const v2 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(goto :back_jump_target)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="regallocpass">RegAllocPass<a class="hash-link" href="#regallocpass" title="Direct link to heading">â€‹</a></h2><p><code>RegAllocPass</code> does register allocation: the process of allocating variables
into the available physical registers. The goal of register allocation is to
avoid &quot;spilling&quot;, that is, moving values from registers into memory.</p><p><code>RegAllocPass</code> uses a standard graph-coloring register allocator algorithm,
known as the Chaitin-Briggs algorithm.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removebuilderspass">RemoveBuildersPass<a class="hash-link" href="#removebuilderspass" title="Direct link to heading">â€‹</a></h2><p>Remove builder invocations. A trivial builder is one that:</p><ul><li>Doesn&#x27;t escape the stack (<code>this</code> is never passed to a method not in this
instance, stored in a field, or returned)</li><li>Has no static methods</li><li>Has no static fields</li></ul><p>Unreferenced builders are left to be removed by RemoveUnreachablePass (RMU).</p><p>See related:</p><ul><li><a href="#removeunreachablepass"><code>RemoveUnreachablePass</code></a></li><li><a href="#resultpropagationpass"><code>ResultPropagationPass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removeinterfacepass">RemoveInterfacePass<a class="hash-link" href="#removeinterfacepass" title="Direct link to heading">â€‹</a></h2><p>The motivation of this pass is to remove a hierarchy of interfaces extending
each others. The removal of the interfaces simplifies the type system and
enables additional type system level optimizations.</p><p>We remove each interface by replacing each invoke-interface site with a
generated dispatch stub that models the interface call semantic at bytecode
level. After that we remove the existing references to them from the
implementors and remove them completely. We start at the leaf level of the
interface hierarchy. After removing the leaf level, we iteratively apply the
same transformation to the now newly formed leaf level again and again until all
interfaces are removed.</p><p>Note that this is a critical pass for optimizing GraphQL generated fragment
models. Aside from the fragment model classes themselves, the GraphQL tool chain
also generates a Java interface for each GraphQL fragment namely fragment
interface. The existence of these interfaces greatly complicates the type system
of the generated GraphQL fragment models making merging the underlying model
classes virtually impossible. The other interface removal optimizations like
<code>SingleImpl</code> as well as <code>RemoveUnreachablePass</code> can address this issue to some
extend. But they are not able to remove the majority of them.
<code>RemoveInterfacePass</code> is capable of removing most of the fragment interfaces at
the expense of producing the above mentioned dispatch stubs. Doing so before
Class Merging paves the way for maximizing the code size reduction we can achieve
in Class Merging.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removeunreachablepass">RemoveUnreachablePass<a class="hash-link" href="#removeunreachablepass" title="Direct link to heading">â€‹</a></h2><p>Starting from the roots, recursively mark the other elements that the roots
reference. Afterwards, it deletes all the unmarked elements.</p><p>The pass has various powerful options, including:</p><ul><li><code>remove_no_argument_constructors</code>: Whether to remove argless constructors. They might be used to create instances via reflection, so the default is <code>false</code>.</li><li><code>relaxed_keep_class_members</code>: Only consider instance members as roots when their classes are either instantiable, i.e. have a callable constructor, or are &quot;dynamically referenced&quot;. A class is &quot;dynamically referenced&quot; if it is mentioned in a Dalvik annotation signature, is referenced in a runtime-visibile annotation, appears in a string or a const-class instruction, is the declaring type of a native method, is present in a native library (lib/<em>/</em>.so), has one of the configured &quot;reflected_package_names&quot;. The default is <code>false</code> for backwards compatibility.</li><li><code>throw_propagation</code>: When reachable instructions invoke methods that cannot return (e.g. all possible target methods have no reachable return statement), then subsequent instructions will not be visited, and replaced with a <code>unreachable</code> instruction. The default is <code>false</code> for backwards compatibility.</li><li><code>prune_uninstantiable_insns</code>: When reachable instructions access instance members of classes that can never be instantiated, then subsequent instructions will not be visited, and replaced with an instruction that throws a <code>NullPointerException</code>. The default is <code>false</code> for backwards compatibility.</li><li><code>prune_uncallable_instance_method_bodies</code>: When an instance method can never be target of an invocation, even though we might need to keep the method for virtual scope order, or because of keep rules, then we can replace its body with an <code>unreachable</code> instruction. This draws from the same instantiability knowledge that is used for the <code>prune_uninstantiable_insns</code> option. The default is <code>false</code> for backwards compatibility.</li><li><code>prune_uncallable_virtual_methods</code>: In some cases, we don&#x27;t need to keep the body of an uncallable method, but instead can make the method abstract, or remove it completely. The default is <code>false</code> for backwards compatibility.</li><li><code>prune_unreferenced_interfaces</code>: Removes interfaces that are not referenced anywhere in code except in <code>implements</code> clauses. The default is <code>false</code> for backwards compatibility.</li></ul><p>More information about <code>RemoveUnreachablePass</code> is available in this <!-- -->[note on
Teaching Reachability Analysis about Dependency Injection]<!-- -->.</p><p>See related:</p><ul><li><a href="#localdcepass"><code>LocalDcePass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removeunusedfieldspass">RemoveUnusedFieldsPass<a class="hash-link" href="#removeunusedfieldspass" title="Direct link to heading">â€‹</a></h2><p>It&#x27;s pretty much in the name. A lot of these unread fields are actually
<code>javac</code>-generated fields for inner classes. Notably, this turns non-static inner
classes into static ones where possible.</p><p>This pass occasionally causes issues because the app may have been relying on an
unread field to stop the GC from deleting an object.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removeunusedargspass">RemoveUnusedArgsPass<a class="hash-link" href="#removeunusedargspass" title="Direct link to heading">â€‹</a></h2><p>Removes unused parameters. Currently only works on non-virtual methods and
virtual methods that are not part of some overriding inheritance hierarchy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="renameclassespassv2">RenameClassesPassV2<a class="hash-link" href="#renameclassespassv2" title="Direct link to heading">â€‹</a></h2><p><code>RenameClassesPassV2</code> renames classes to shorter names such as &quot;X.A1c&quot;, saving
in APK size, obfuscating the code, and ordering classes to optimize performance
of loading.</p><p><code>RenameClassesPassV2</code> will not rename any class mentioned in resources, nor will
it rename anything in blocklist either by direct class name or as part of
an excluded package.</p><p><code>RenameClassesPassV2</code> relies on the <a href="/docs/getting_started/configuring/">app&#x27;s config file</a>, excluding
of the class or hierarchy, or use of reflection.</p><p>Logview and bug reports are configured to automatically undo this renaming.</p><p>See related:</p><ul><li><a href="#obfuscatepass"><code>ObfuscatePass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reorderinterfacesdeclpass">ReorderInterfacesDeclPass<a class="hash-link" href="#reorderinterfacesdeclpass" title="Direct link to heading">â€‹</a></h2><p><code>ReorderInterfacesDeclPass</code> list for each class by how frquently the Interfaces
are called. The Interface list is searched linearly when an Interface is called,
so calling an Interface at the list will be faster. An alphabetical sort is used
for tie-breaks in number of incoming calls to preserve consistency across
Classes.</p><p>This pass could be improved by checking the number of incoming calls
dynamically.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resultpropagationpass">ResultPropagationPass<a class="hash-link" href="#resultpropagationpass" title="Direct link to heading">â€‹</a></h2><p>Refactor code, e.g.,</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Text.create(context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clipToBounds(false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .text(myText)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to be as efficient as the less elegant equivalent version:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Text.Builder b = Text.create(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b.clipToBounds(false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b.text(myText)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See related:</p><ul><li><a href="#removebuilderspass">RemoveBuildersPass</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shortensrcstringspass">ShortenSrcStringsPass<a class="hash-link" href="#shortensrcstringspass" title="Direct link to heading">â€‹</a></h2><p>Replaces long filename strings with strings used elsewhere in the APK. This
munges the filename component of stack traces. Logview and bug reports
automatically reverse this for you.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="methodinlinepass">MethodInlinePass<a class="hash-link" href="#methodinlinepass" title="Direct link to heading">â€‹</a></h2><p>For example, in this code, if <code>run</code> is inlined to <code>main</code> and the access of <code>bar</code>
throws, the stack trace in <code>main</code> will show a <code>NullPointerException</code> at the
dereference of <code>this</code> instead of a call to <code>run</code>.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private String bar;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void run() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(bar);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Main {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Foo foo = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo.run();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>MethodInlinePass</code> will not inline a constructor as the Android verifier checks
for a call to <code>&lt;init&gt;</code> before any access to the object.</p><p><code>MethodInlinePass</code> cannot currently be run after <a href="#interdexpass"><code>InterDexPass</code></a>.</p><p>See related:</p><ul><li><a href="#finalinlinepassv2"><code>FinalInlinePassV2</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="singleimplpass">SingleImplPass<a class="hash-link" href="#singleimplpass" title="Direct link to heading">â€‹</a></h2><p>Removes interfaces with only a single implementation. Any classes referring to
the interface will now refer to the implementation instead. This can cause minor
confusion in stack traces.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="staticrelopassv2">StaticReloPassV2<a class="hash-link" href="#staticrelopassv2" title="Direct link to heading">â€‹</a></h2><p><code>StaticReloPassV2</code> relocates static fields and methods that only have one
calling class to that class. It improves the performance and reduces the app
size.</p><p>See related:</p><ul><li><a href="#staticrelopass"><code>StaticReloPass</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stringconcatenatorpass">StringConcatenatorPass<a class="hash-link" href="#stringconcatenatorpass" title="Direct link to heading">â€‹</a></h2><p>Reduce string operations as well as reducing the number of strings that need
to be loaded.</p><p>Here&#x27;s an example <code>&lt;clinit&gt;</code> method <code>StringConcatenationPass</code> will optimize:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static final String PREFIX = &quot;foo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static final String CONCATENATED = PREFIX + &quot;bar&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output code should be equivalent to:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static final PREFIX = &quot;foo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static final CONCATENATED = &quot;foobar&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a targeted optimization that is only performed on static initializers
with many string concatenations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stripdebuginfopass">StripDebugInfoPass<a class="hash-link" href="#stripdebuginfopass" title="Direct link to heading">â€‹</a></h2><p><code>StripDebugInfoPass</code> removes debug information for instructions that will
never throw. As debug positions can correspond to multiple instructions, we need
to check that none of the instructions will throw. Also, Redex won&#x27;t strip the
first piece of debug information in a function to preserve the accuracty of
sampling profiles and ANR stack traces.</p><p>The <a href="/docs/getting_started/configuring/">app&#x27;s config file</a> can direct <code>StripDebugInfoPass</code> removals at a
more granular level:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;StripDebugInfoPass&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_all_dbg_info&quot; : &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_local_variables&quot; : &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_line_numbers&quot; : &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_src_files&quot; : &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;use_allowlist&quot; : &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;cls_allowlist&quot; : [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;method_allowlist&quot; : [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_prologue_end&quot; : &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_epilogue_begin&quot; : &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_all_dbg_info_if_empty&quot; : &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_synth_aggressive&quot; : &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;drop_line_numbers_preceeding_safe&quot; : &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pass ordering dependencies:</p><ul><li><code>StripDebugInfoPass</code> should be run early as removal of the debug info should
make other passes faster.</li><li>Inlining complicates the flow graph for debug info. <code>StripDebugInfoPass</code>
should be run before any inlining passes, and will not optiimize if inlining
has been performed.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/getting_started/configuring/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuring ReDex</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/getting_started/usage/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Usage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#accessmarkingpass" class="table-of-contents__link toc-highlight">AccessMarkingPass</a></li><li><a href="#annokillpass" class="table-of-contents__link toc-highlight">AnnoKillPass</a></li><li><a href="#bridgesynthinlinepass" class="table-of-contents__link toc-highlight">BridgeSynthInlinePass</a></li><li><a href="#checkbreadcrumbspass" class="table-of-contents__link toc-highlight">CheckBreadcrumbsPass</a></li><li><a href="#classmergingpass" class="table-of-contents__link toc-highlight">ClassMergingPass</a></li><li><a href="#constantpropagationpass" class="table-of-contents__link toc-highlight">ConstantPropagationPass</a></li><li><a href="#copypropagationpass" class="table-of-contents__link toc-highlight">CopyPropagationPass</a></li><li><a href="#dedupblockspass" class="table-of-contents__link toc-highlight">DedupBlocksPass</a></li><li><a href="#delsuperpass" class="table-of-contents__link toc-highlight">DelSuperPass</a></li><li><a href="#finalinlinepassv2" class="table-of-contents__link toc-highlight">FinalInlinePassV2</a></li><li><a href="#localdcepass" class="table-of-contents__link toc-highlight">LocalDcePass</a></li><li><a href="#methoddevirtualizationpass" class="table-of-contents__link toc-highlight">MethodDevirtualizationPass</a></li><li><a href="#obfuscatepass" class="table-of-contents__link toc-highlight">ObfuscatePass</a></li><li><a href="#optimizeenumspass" class="table-of-contents__link toc-highlight">OptimizeEnumsPass</a></li><li><a href="#originalnamepass" class="table-of-contents__link toc-highlight">OriginalNamePass</a></li><li><a href="#peepholepass" class="table-of-contents__link toc-highlight">PeepholePass</a></li><li><a href="#rebindrefspass" class="table-of-contents__link toc-highlight">ReBindRefsPass</a></li><li><a href="#reducegotospass" class="table-of-contents__link toc-highlight">ReduceGotosPass</a></li><li><a href="#regallocpass" class="table-of-contents__link toc-highlight">RegAllocPass</a></li><li><a href="#removebuilderspass" class="table-of-contents__link toc-highlight">RemoveBuildersPass</a></li><li><a href="#removeinterfacepass" class="table-of-contents__link toc-highlight">RemoveInterfacePass</a></li><li><a href="#removeunreachablepass" class="table-of-contents__link toc-highlight">RemoveUnreachablePass</a></li><li><a href="#removeunusedfieldspass" class="table-of-contents__link toc-highlight">RemoveUnusedFieldsPass</a></li><li><a href="#removeunusedargspass" class="table-of-contents__link toc-highlight">RemoveUnusedArgsPass</a></li><li><a href="#renameclassespassv2" class="table-of-contents__link toc-highlight">RenameClassesPassV2</a></li><li><a href="#reorderinterfacesdeclpass" class="table-of-contents__link toc-highlight">ReorderInterfacesDeclPass</a></li><li><a href="#resultpropagationpass" class="table-of-contents__link toc-highlight">ResultPropagationPass</a></li><li><a href="#shortensrcstringspass" class="table-of-contents__link toc-highlight">ShortenSrcStringsPass</a></li><li><a href="#methodinlinepass" class="table-of-contents__link toc-highlight">MethodInlinePass</a></li><li><a href="#singleimplpass" class="table-of-contents__link toc-highlight">SingleImplPass</a></li><li><a href="#staticrelopassv2" class="table-of-contents__link toc-highlight">StaticReloPassV2</a></li><li><a href="#stringconcatenatorpass" class="table-of-contents__link toc-highlight">StringConcatenatorPass</a></li><li><a href="#stripdebuginfopass" class="table-of-contents__link toc-highlight">StripDebugInfoPass</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting_started/installation/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting_started/configuring/">Configuring</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting_started/usage/">Using</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help/faq/">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/redex/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://docusaurus.io/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="https://docusaurus.io/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2024 Meta Platforms, Inc. and affiliates.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4c739ec2.js"></script>
<script src="/assets/js/main.7839a039.js"></script>
</body>
</html>